{% extends "admin/base_site.html" %}

{% block title %}Логи помилок{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
  <a href="{% url 'admin:index' %}">Головна</a>
  &rsaquo; Логи помилок
</div>
{% endblock %}

{% block content %}
<h1>Логи помилок</h1>

<div style="margin: 20px 0;">
  <form method="post" style="display: inline;">
    {% csrf_token %}
    <input type="hidden" name="action" value="clear">
    <button type="submit" onclick="return confirm('Очистити всі логи?')"
            style="background: #ba2121; color: white; padding: 8px 15px; border: none; border-radius: 4px; cursor: pointer;">
      Очистити логи
    </button>
  </form>

  <a href="{% url 'admin:error_logs' %}"
     style="background: #417690; color: white; padding: 8px 15px; border-radius: 4px; text-decoration: none; margin-left: 10px;">
    Оновити
  </a>
</div>

{% if logs %}
  <div style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 5px; font-family: monospace; font-size: 13px; white-space: pre-wrap; max-height: 600px; overflow-y: auto;">{{ logs }}</div>
{% else %}
  <div style="padding: 20px; background: #d4edda; border: 1px solid #28a745; border-radius: 5px;">
    Помилок немає! Все працює добре.
  </div>
{% endif %}

<div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
  <h3 style="margin-top: 0;">Як це працює?</h3>
  <p>Всі помилки автоматично записуються у файл <code>logs/errors.log</code></p>
  <p>Якщо щось не працює на сайті - тут побачиш що саме сталося.</p>
</div>
{% endblock %}
